{"ast":null,"code":"var _jsxFileName = \"D:\\\\Utecho\\\\Scaff-cert\\\\src\\\\Admin\\\\orders\\\\complete_orders.js\",\n  _s = $RefreshSig$();\n/* eslint-disable no-unused-vars */\nimport '@styles/react/apps/app-users.scss';\nimport PendingOrderTable from './orderDataTable';\nimport React, { useEffect, useState } from 'react';\nimport { Button, Spinner } from 'react-bootstrap';\nimport './order.css';\nimport { apiRequest } from '../../api/apirequest';\nimport OrderModal from './orderModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CompleteOrders = () => {\n  _s();\n  const [orders, setorders] = useState('');\n  const [acceptedIds, setAcceptedIds] = useState([]);\n  const [accept, setaccept] = useState([]);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [orderId, setorderId] = useState(false);\n  const handleOpenModal = id => {\n    console.log(id);\n    setorderId(id);\n    setModalOpen(true);\n  };\n  const handleCloseModal = () => {\n    setModalOpen(false);\n  };\n  const [isloading, setisLoading] = useState(false);\n  const getdata = () => {\n    setisLoading(true);\n    const body = new FormData();\n    body.append(\"type\", \"get_data\");\n    body.append(\"table_name\", \"orders\");\n    apiRequest({\n      body\n    }).then(async res => {\n      console.log(res);\n      const filteredOrders = res.data.filter(order => order.status === \"completed\");\n      setisLoading(false);\n      setorders(filteredOrders);\n    }).catch(error => {\n      setisLoading(false);\n      console.error(error);\n    });\n  };\n  useEffect(() => {\n    getdata();\n  }, []);\n  const columns = [{\n    name: 'name',\n    selector: row => row.first_name,\n    sortable: \"true\"\n  }, {\n    name: 'Email',\n    selector: row => row.billing_email,\n    sortable: \"true\"\n  }, {\n    name: 'Phone Number',\n    selector: row => row.billing_phone,\n    sortable: \"true\"\n  }, {\n    name: 'Address',\n    selector: row => row.street + \" \" + row.city,\n    sortable: \"true\"\n  }, {\n    name: 'Service',\n    selector: row => {\n      const cleaningRequest = JSON.parse(row.cleaning_request);\n      return cleaningRequest.length > 0 ? cleaningRequest.join(', ') : 'null';\n    },\n    sortable: \"true\"\n  }, {\n    name: 'Status',\n    selector: row => row.status,\n    sortable: \"true\"\n  }, {\n    name: 'Images',\n    selector: row => /*#__PURE__*/_jsxDEV(\"img\", {\n      src: row.url + row.images[0],\n      alt: \"Service\",\n      className: \"ser_icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 26\n    }, this),\n    sortable: false\n  }, {\n    name: '',\n    allowOverflow: false,\n    cell: row => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center  align-items-center  w-100 orderdiv\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"warning\",\n            className: \"fs_8 px-1 my_05 orderbtn\",\n            onClick: () => handleOpenModal(row.id),\n            children: \"Detail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this);\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isloading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" mt-3 d-flex justify-content-center align-items-center vh-75 w-100\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"dart\",\n        size: \"lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [modalOpen === true ? /*#__PURE__*/_jsxDEV(OrderModal, {\n        showModal: modalOpen,\n        onClose: handleCloseModal,\n        id: orderId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(PendingOrderTable, {\n        columns: columns,\n        data: orders,\n        tname: \"Completed Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n_s(CompleteOrders, \"21YNeLVkoVg4ptsbbXZnGsA+4Pc=\");\n_c = CompleteOrders;\nexport default CompleteOrders;\nvar _c;\n$RefreshReg$(_c, \"CompleteOrders\");","map":{"version":3,"names":["PendingOrderTable","React","useEffect","useState","Button","Spinner","apiRequest","OrderModal","jsxDEV","_jsxDEV","Fragment","_Fragment","CompleteOrders","_s","orders","setorders","acceptedIds","setAcceptedIds","accept","setaccept","modalOpen","setModalOpen","orderId","setorderId","handleOpenModal","id","console","log","handleCloseModal","isloading","setisLoading","getdata","body","FormData","append","then","res","filteredOrders","data","filter","order","status","catch","error","columns","name","selector","row","first_name","sortable","billing_email","billing_phone","street","city","cleaningRequest","JSON","parse","cleaning_request","length","join","src","url","images","alt","className","fileName","_jsxFileName","lineNumber","columnNumber","allowOverflow","cell","children","variant","onClick","animation","size","showModal","onClose","tname","_c","$RefreshReg$"],"sources":["D:/Utecho/Scaff-cert/src/Admin/orders/complete_orders.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport '@styles/react/apps/app-users.scss'\r\nimport PendingOrderTable from './orderDataTable';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Button, Spinner } from 'react-bootstrap';\r\nimport './order.css';\r\nimport { apiRequest } from '../../api/apirequest';\r\nimport OrderModal from './orderModal';\r\n\r\nconst CompleteOrders = () => {\r\n  const [orders, setorders] = useState('');\r\n\r\n  const [acceptedIds, setAcceptedIds] = useState([]);\r\n  const [accept, setaccept] = useState([]);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [orderId, setorderId] = useState(false);\r\n\r\n  const handleOpenModal = (id) => {\r\n    console.log(id);\r\n    setorderId(id);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setModalOpen(false);\r\n\r\n  };\r\n  const [isloading, setisLoading] = useState(false);\r\n\r\n  const getdata = () => {\r\n    setisLoading(true);\r\n    const body = new FormData();\r\n    body.append(\"type\", \"get_data\");\r\n    body.append(\"table_name\", \"orders\");\r\n    apiRequest({ body })\r\n      .then(async (res) => {\r\n        console.log(res);\r\n        const filteredOrders = res.data.filter((order) => order.status === \"completed\");\r\n        setisLoading(false);\r\n        setorders(filteredOrders);\r\n      })\r\n\r\n      .catch((error) => {\r\n        setisLoading(false);\r\n        console.error(error);\r\n      });\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    getdata();\r\n  }, [])\r\n  const columns = [\r\n\r\n    {\r\n      name: 'name',\r\n      selector: (row) => row.first_name,\r\n      sortable: \"true\",\r\n\r\n    },\r\n    {\r\n      name: 'Email',\r\n      selector: (row) => row.billing_email,\r\n      sortable: \"true\",\r\n\r\n    },\r\n    {\r\n      name: 'Phone Number',\r\n      selector: (row) => row.billing_phone,\r\n      sortable: \"true\",\r\n    },\r\n    {\r\n      name: 'Address',\r\n      selector: (row) => row.street + \" \" + row.city,\r\n      sortable: \"true\",\r\n    },\r\n    {\r\n      name: 'Service',\r\n      selector: (row) => {\r\n        const cleaningRequest = JSON.parse(row.cleaning_request);\r\n        return cleaningRequest.length > 0 ? cleaningRequest.join(', ') : 'null';\r\n      },\r\n      sortable: \"true\",\r\n    },\r\n    {\r\n      name: 'Status',\r\n      selector: (row) => row.status,\r\n      sortable: \"true\",\r\n    },\r\n    {\r\n      name: 'Images',\r\n      selector: (row) => <img src={row.url + row.images[0]} alt=\"Service\" className='ser_icon' />,\r\n      sortable: false,\r\n    },\r\n    {\r\n      name: '',\r\n      allowOverflow: false,\r\n      cell: (row) => {\r\n        return (\r\n          <div className='d-flex justify-content-center  align-items-center  w-100 orderdiv'>\r\n            <div >\r\n              <Button variant='warning' className='fs_8 px-1 my_05 orderbtn' onClick={() => handleOpenModal(row.id)} >\r\n                Detail\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n  return (\r\n    <div>\r\n      {isloading ? (\r\n        <div className=' mt-3 d-flex justify-content-center align-items-center vh-75 w-100' >\r\n          <Spinner animation=\"border\" variant=\"dart\" size=\"lg\" />\r\n        </div>\r\n      ) : (\r\n        <>{modalOpen === true ?\r\n          <OrderModal showModal={modalOpen} onClose={handleCloseModal} id={orderId}\r\n          /> : null}\r\n\r\n          <PendingOrderTable columns={columns} data={orders} tname={\"Completed Order\"} />\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CompleteOrders\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}