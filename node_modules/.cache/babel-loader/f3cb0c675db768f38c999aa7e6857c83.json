{"ast":null,"code":"var _jsxFileName = \"D:\\\\Utecho\\\\Scaff-cert\\\\src\\\\Admin\\\\orders\\\\all_orders.js\",\n  _s = $RefreshSig$();\n/* eslint-disable no-unused-vars */\nimport '@styles/react/apps/app-users.scss';\nimport PendingOrderTable from './orderDataTable';\nimport React, { useEffect, useState } from 'react';\nimport { Button, Spinner } from 'react-bootstrap';\nimport './order.css';\nimport { apiRequest } from '../../api/apirequest';\nimport OrderModal from './orderModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AllOrders = () => {\n  _s();\n  const [orders, setorders] = useState('');\n  const [modalOpen, setModalOpen] = useState(false);\n  const [orderId, setorderId] = useState(false);\n  const handleOpenModal = id => {\n    console.log(id);\n    setorderId(id);\n    setModalOpen(true);\n  };\n  const handleCloseModal = () => {\n    setModalOpen(false);\n  };\n  const [isloading, setisLoading] = useState(false);\n  const getAllData = () => {\n    setisLoading(true);\n    const body = new FormData();\n    body.append(\"type\", \"get_data\");\n    body.append(\"table_name\", \"orders\");\n    apiRequest({\n      body\n    }).then(async res => {\n      console.log(res);\n      const filteredServices = res.data.filter(service => {\n        return Object.values(service).every(field => field !== null);\n      });\n      setorders(filteredServices);\n      setisLoading(false);\n    }).catch(error => {\n      setisLoading(false);\n      console.error(error);\n    });\n  };\n  useEffect(() => {\n    getAllData();\n  }, []);\n  const columns = [{\n    name: 'name',\n    selector: row => row.first_name,\n    sortable: \"true\"\n  }, {\n    name: 'Email',\n    selector: row => row.billing_email,\n    sortable: \"true\"\n  }, {\n    name: 'Phone Number',\n    selector: row => row.billing_phone,\n    sortable: \"true\"\n  }, {\n    name: 'Address',\n    selector: row => row.street + \" \" + row.city,\n    sortable: \"true\"\n  }, {\n    name: 'Service',\n    selector: row => {\n      const cleaningRequest = JSON.parse(row.cleaning_request);\n      return cleaningRequest.length > 0 ? cleaningRequest.join(', ') : 'null';\n    },\n    sortable: \"true\"\n  }, {\n    name: 'Status',\n    selector: row => row.status,\n    sortable: \"true\"\n  }, {\n    name: 'Images',\n    selector: row => /*#__PURE__*/_jsxDEV(\"img\", {\n      src: row.url + row.images[0],\n      alt: \"Service\",\n      className: \"ser_icon\",\n      onError: e => {\n        e.target.onerror = null; // Remove the event handler to prevent infinite loop\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 26\n    }, this),\n    sortable: false\n  }, {\n    name: '',\n    allowOverflow: false,\n    cell: row => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center  align-items-center  w-100 orderdiv\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"warning\",\n            className: \"fs_8 px-1 my_05 orderbtn\",\n            onClick: () => handleOpenModal(row.id),\n            children: \"Detail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this);\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isloading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" mt-3 d-flex justify-content-center align-items-center vh-75 w-100\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"dart\",\n        size: \"lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [modalOpen === true ? /*#__PURE__*/_jsxDEV(OrderModal, {\n        showModal: modalOpen,\n        onClose: handleCloseModal,\n        id: orderId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this) : null, /*#__PURE__*/_jsxDEV(PendingOrderTable, {\n        columns: columns,\n        data: orders,\n        tname: \"All Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n_s(AllOrders, \"SIb5LAWCb3pcExv/CA7eVcypoD0=\");\n_c = AllOrders;\nexport default AllOrders;\nvar _c;\n$RefreshReg$(_c, \"AllOrders\");","map":{"version":3,"names":["PendingOrderTable","React","useEffect","useState","Button","Spinner","apiRequest","OrderModal","jsxDEV","_jsxDEV","Fragment","_Fragment","AllOrders","_s","orders","setorders","modalOpen","setModalOpen","orderId","setorderId","handleOpenModal","id","console","log","handleCloseModal","isloading","setisLoading","getAllData","body","FormData","append","then","res","filteredServices","data","filter","service","Object","values","every","field","catch","error","columns","name","selector","row","first_name","sortable","billing_email","billing_phone","street","city","cleaningRequest","JSON","parse","cleaning_request","length","join","status","src","url","images","alt","className","onError","e","target","onerror","fileName","_jsxFileName","lineNumber","columnNumber","allowOverflow","cell","children","variant","onClick","animation","size","showModal","onClose","tname","_c","$RefreshReg$"],"sources":["D:/Utecho/Scaff-cert/src/Admin/orders/all_orders.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport '@styles/react/apps/app-users.scss'\r\nimport PendingOrderTable from './orderDataTable';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Button, Spinner } from 'react-bootstrap';\r\nimport './order.css';\r\nimport { apiRequest } from '../../api/apirequest';\r\nimport OrderModal from './orderModal';\r\n\r\nconst AllOrders = () => {\r\n  const [orders, setorders] = useState('');\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [orderId, setorderId] = useState(false);\r\n\r\n  const handleOpenModal = (id) => {\r\n    console.log(id);\r\n    setorderId(id);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setModalOpen(false);\r\n\r\n  };\r\n  const [isloading, setisLoading] = useState(false);\r\n\r\n  const getAllData = () => {\r\n    setisLoading(true);\r\n\r\n    const body = new FormData();\r\n    body.append(\"type\", \"get_data\");\r\n    body.append(\"table_name\", \"orders\");\r\n    apiRequest({ body })\r\n      .then(async (res) => {\r\n        console.log(res);\r\n        const filteredServices = res.data.filter((service) => {\r\n          return Object.values(service).every((field) => field !== null);\r\n        });\r\n\r\n        setorders(filteredServices);\r\n        setisLoading(false);\r\n\r\n      })\r\n      .catch((error) => {\r\n        setisLoading(false);\r\n        console.error(error);\r\n      });\r\n  }\r\n  useEffect(() => {\r\n    getAllData();\r\n  }, [])\r\n  const columns = [\r\n\r\n    {\r\n      name: 'name',\r\n      selector: (row) => row.first_name,\r\n      sortable: \"true\",\r\n\r\n    },\r\n    {\r\n      name: 'Email',\r\n      selector: (row) => row.billing_email,\r\n      sortable: \"true\",\r\n\r\n    },\r\n    {\r\n      name: 'Phone Number',\r\n      selector: (row) => row.billing_phone,\r\n      sortable: \"true\",\r\n    },\r\n    {\r\n      name: 'Address',\r\n      selector: (row) => row.street + \" \" + row.city,\r\n      sortable: \"true\",\r\n    },\r\n    {\r\n      name: 'Service',\r\n      selector: (row) => {\r\n        const cleaningRequest = JSON.parse(row.cleaning_request);\r\n        return cleaningRequest.length > 0 ? cleaningRequest.join(', ') : 'null';\r\n      },\r\n      sortable: \"true\",\r\n    },\r\n\r\n    {\r\n      name: 'Status',\r\n      selector: (row) => row.status,\r\n      sortable: \"true\",\r\n    },\r\n    {\r\n      name: 'Images',\r\n      selector: (row) => <img src={row.url + row.images[0]} alt=\"Service\" className='ser_icon'\r\n        onError={(e) => {\r\n          e.target.onerror = null; // Remove the event handler to prevent infinite loop\r\n        }} />,\r\n      sortable: false,\r\n    },\r\n    {\r\n      name: '',\r\n      allowOverflow: false,\r\n      cell: (row) => {\r\n        return (\r\n          <div className='d-flex justify-content-center  align-items-center  w-100 orderdiv'>\r\n            <div >\r\n              <Button variant='warning' className='fs_8 px-1 my_05 orderbtn' onClick={() => handleOpenModal(row.id)} >\r\n                Detail\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n  return (\r\n    <div>\r\n      {isloading ? (\r\n        <div className=' mt-3 d-flex justify-content-center align-items-center vh-75 w-100' >\r\n          <Spinner animation=\"border\" variant=\"dart\" size=\"lg\" />\r\n        </div>\r\n      ) : (\r\n        <>\r\n\r\n          {modalOpen === true ?\r\n            <OrderModal showModal={modalOpen} onClose={handleCloseModal} id={orderId}\r\n            /> : null}\r\n          <PendingOrderTable columns={columns} data={orders} tname={\"All Order\"} /></>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AllOrders\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}