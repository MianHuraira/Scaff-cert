{"ast":null,"code":"const isNil = require(\"lodash/isNil\");\nconst VERBOSE_ARG = \"--verbose\";\nconst CONFIG_ARG = \"--config\";\nfunction createNullableArg(value) {\n  return {\n    isProvided: !isNil(value),\n    value\n  };\n}\nconst processedArgs = {\n  verbose: false,\n  config: createNullableArg()\n};\nfunction findCliArg(key) {\n  const index = process.argv.indexOf(key);\n  return {\n    key,\n    index,\n    isProvided: index !== -1\n  };\n}\nfunction getCliArgWithValue(key) {\n  const result = function () {\n    let isProvided = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    let value = arguments.length > 1 ? arguments[1] : undefined;\n    let index = arguments.length > 2 ? arguments[2] : undefined;\n    return {\n      key,\n      isProvided,\n      value,\n      index\n    };\n  };\n  const arg = findCliArg(key);\n  if (arg.isProvided) {\n    const valueIndex = arg.index + 1;\n    if (process.argv[valueIndex]) {\n      return result(true, process.argv[valueIndex], arg.index);\n    }\n  }\n  return result();\n}\nconst jestConflictingArg = function (key) {\n  let hasValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return {\n    key,\n    hasValue\n  };\n};\n\n// prettier-ignore\nconst jestConflictingArgs = [jestConflictingArg(CONFIG_ARG, true)];\nfunction removeJestConflictingCustomCliArgs() {\n  jestConflictingArgs.forEach(x => {\n    const arg = findCliArg(x.key);\n    if (arg.isProvided) {\n      process.argv.splice(arg.index, x.hasValue ? 2 : 1);\n    }\n  });\n}\nfunction findArgsFromCli() {\n  const verbose = findCliArg(VERBOSE_ARG);\n  const config = getCliArgWithValue(CONFIG_ARG);\n  removeJestConflictingCustomCliArgs();\n  const values = {\n    verbose: verbose.isProvided ? true : undefined,\n    config: config.isProvided ? config.value : undefined\n  };\n  setArgs(values);\n}\nfunction setArgs(values) {\n  if (!isNil(values)) {\n    if (!isNil(values.verbose)) {\n      processedArgs.verbose = values.verbose;\n    }\n    if (!isNil(values.config)) {\n      processedArgs.config = createNullableArg(values.config);\n    }\n  }\n}\nfunction getArgs() {\n  return processedArgs;\n}\nmodule.exports = {\n  getArgs,\n  setArgs,\n  findArgsFromCli\n};","map":{"version":3,"names":["isNil","require","VERBOSE_ARG","CONFIG_ARG","createNullableArg","value","isProvided","processedArgs","verbose","config","findCliArg","key","index","process","argv","indexOf","getCliArgWithValue","result","arguments","length","undefined","arg","valueIndex","jestConflictingArg","hasValue","jestConflictingArgs","removeJestConflictingCustomCliArgs","forEach","x","splice","findArgsFromCli","values","setArgs","getArgs","module","exports"],"sources":["D:/Utecho/Scaff-cert/node_modules/@craco/craco/lib/args.js"],"sourcesContent":["const isNil = require(\"lodash/isNil\");\n\nconst VERBOSE_ARG = \"--verbose\";\nconst CONFIG_ARG = \"--config\";\n\nfunction createNullableArg(value) {\n    return {\n        isProvided: !isNil(value),\n        value\n    };\n}\n\nconst processedArgs = {\n    verbose: false,\n    config: createNullableArg()\n};\n\nfunction findCliArg(key) {\n    const index = process.argv.indexOf(key);\n\n    return {\n        key,\n        index,\n        isProvided: index !== -1\n    };\n}\n\nfunction getCliArgWithValue(key) {\n    const result = (isProvided = false, value, index) => ({\n        key,\n        isProvided,\n        value,\n        index\n    });\n\n    const arg = findCliArg(key);\n\n    if (arg.isProvided) {\n        const valueIndex = arg.index + 1;\n\n        if (process.argv[valueIndex]) {\n            return result(true, process.argv[valueIndex], arg.index);\n        }\n    }\n\n    return result();\n}\n\nconst jestConflictingArg = (key, hasValue = false) => ({\n    key,\n    hasValue\n});\n\n// prettier-ignore\nconst jestConflictingArgs = [\n    jestConflictingArg(CONFIG_ARG, true),\n];\n\nfunction removeJestConflictingCustomCliArgs() {\n    jestConflictingArgs.forEach(x => {\n        const arg = findCliArg(x.key);\n\n        if (arg.isProvided) {\n            process.argv.splice(arg.index, x.hasValue ? 2 : 1);\n        }\n    });\n}\n\nfunction findArgsFromCli() {\n    const verbose = findCliArg(VERBOSE_ARG);\n    const config = getCliArgWithValue(CONFIG_ARG);\n\n    removeJestConflictingCustomCliArgs();\n\n    const values = {\n        verbose: verbose.isProvided ? true : undefined,\n        config: config.isProvided ? config.value : undefined\n    };\n\n    setArgs(values);\n}\n\nfunction setArgs(values) {\n    if (!isNil(values)) {\n        if (!isNil(values.verbose)) {\n            processedArgs.verbose = values.verbose;\n        }\n\n        if (!isNil(values.config)) {\n            processedArgs.config = createNullableArg(values.config);\n        }\n    }\n}\n\nfunction getArgs() {\n    return processedArgs;\n}\n\nmodule.exports = {\n    getArgs,\n    setArgs,\n    findArgsFromCli\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}